<!DOCTYPE html>

<meta charset=utf-8>
<title>blog.izs.me</title>
<link rel=stylesheet href=../backup.css>

<body class=archive>

<header>
<h1>November 2013</h1>
</header>

<article class=photo id=p-66229008443>
<header>
<p><time datetime=2013-11-06T23:59:50Z>11/06/2013 15:59:50</time>
<a class=llink href=../posts/66229008443.html>¶</a>
<a href=https://tmblr.co/Z7nwWyzhZdWx>●</a></header>
<p><img alt="" src="../media/tumblr_mvv8lgQOWp1sa5gyeo1_400.gif"></p>
<p><a href="http://yuireactions.tumblr.com/post/66227603940/the-rare-striped-izs-spotted-in-the-wild-at" class="tumblr_blog">yuireactions</a>:</p>

<blockquote><p>the rare striped @izs, spotted in the wild at #yuiconf</p></blockquote>
<footer>3 notes</footer>
</article>
<article class=photo id=p-66190056028>
<header>
<p><time datetime=2013-11-06T15:45:12Z>11/06/2013 07:45:12</time>
<a class=llink href=../posts/66190056028.html>¶</a>
<a href=https://tmblr.co/Z7nwWyzfF1fS>●</a></header>
<p><img alt="" src="../media/tumblr_molif0VaH71r8voglo2_400.gif"></p>
<p><img alt="" src="../media/tumblr_molif0VaH71r8voglo3_400.gif"></p>
<p><img alt="" src="../media/tumblr_molif0VaH71r8voglo1_400.gif"></p>
<p><img alt="" src="../media/tumblr_molif0VaH71r8voglo4_400.gif"></p>
<p><a class="tumblr_blog" href="http://taranamgabata.tumblr.com/post/53281999466/did-u-know-theres-this-small-rural-town-in-japan">taranamgabata</a>:</p>
<blockquote>
<p>did u know, there’s this small rural town in japan called obama.<br/>so there’s this girl in a 2007 drama who moved from the city to obama.<br/>and she hates it at first and blames the town for her misery.<br/>i kid u not. didn’t make this shit up.</p>
</blockquote>
<footer>184596 notes — <a title=Source href=http://taranamgabata.tumblr.com/post/53281999466/did-u-know-theres-this-small-rural-town-in-japan>taranamgabata</a></footer>
</article>
<article class=text id=p-65712662830>
<header>
<p><time datetime=2013-11-01T19:22:00Z>11/01/2013 12:22:00</time>
<a class=llink href=../posts/65712662830.html>¶</a>
<a href=https://tmblr.co/Z7nwWyzCnwak>●</a></header>
<h2>Restart Node.js servers on domain errors: Sensible FUD</h2>
<p>The Node.js documentation about the &ldquo;domain&rdquo; error handling module has a <a href="http://nodejs.org/api/domain.html#domain_warning_don_t_ignore_errors">strongly worded warning imploring you to shut down the process when a domain catches an error</a>.</p>

<p>I was recently asked for a more detailed explanation of why this is, and answered with the following <a href="https://gist.github.com/isaacs/7269994">gist</a>.</p>

<script src="//gist.github.com/isaacs/7269994.js"></script><p>This principle is not unique to JavaScript, of course.  Any language with state, side effects, and exceptions that abandon local context without a way to resume at the throw site, will basically guarantee that unexpected exceptions cannot ever be handled in a way that lets the program proceed normally.  (This also applies, for example, to Ruby, Python, PHP, C++, and many other languages, though of course they&rsquo;re going to have their own set of caveats and workarounds.)</p>

<p>This is not <em>so</em> bad if it&rsquo;s a program that isn&rsquo;t long-lived.  PHP scripts typically run to completion and then get cleaned up, so a missed exception is pretty meh.  Same with command line scripts.</p>

<p>But in a server or some other sort of long-lived daemon, it&rsquo;s completely unacceptable, and will nearly always lead to undesirable system behavior.</p>

<p>Finish up what you&rsquo;re doing, close the active connections or whatever, and GTFO.  Let the system start a new process.</p>

<p>It&rsquo;s the only responsible option.</p>
<footer>3 notes</footer>
</article>
<footer><nav><a href=../index.html rel=index>Index</a>
| <a href=2013-12-p1.html rel=prev>Previous</a>
| <a href=2013-10-p1.html rel=next>Next</a>
</nav></footer>
